# ============================================
# Brandenburg Plumbing Website - Environment Variables
# ============================================
# Copy this file to .env.local and fill in your actual values
# Never commit .env.local to version control

# ============================================
# Database Configuration
# ============================================
# PostgreSQL connection string
# Supports both DATABASE_URL (standard) and POSTGRES_URL (Vercel-Supabase integration)
DATABASE_URL=postgresql://user:password@host:port/database
# Alternative: POSTGRES_URL=postgresql://user:password@host:port/database

# ============================================
# Supabase Configuration (Required for Admin Features)
# ============================================
# Get these from your Supabase project settings: https://app.supabase.com/project/_/settings/api
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ============================================
# ServiceTitan API Configuration (Required for Discount Calculator & Review Requests)
# ============================================
# Get these from your ServiceTitan developer account: https://developer.servicetitan.io/
SERVICETITAN_CLIENT_ID=your-client-id
SERVICETITAN_CLIENT_SECRET=your-client-secret
SERVICETITAN_TENANT_ID=your-tenant-id
SERVICETITAN_APP_KEY=your-app-key
# Environment: "production" or "integration" (defaults to "production" if not set)
SERVICETITAN_ENV=production

# ============================================
# Email Report Ingestion (Required for Scorecard)
# ============================================
# Gmail IMAP credentials for fetching emailed ServiceTitan reports
# 1. Create a dedicated Gmail account for reports
# 2. Enable 2-Step Verification
# 3. Generate an App Password: Google Account > Security > 2-Step Verification > App passwords
REPORT_EMAIL_HOST=imap.gmail.com
REPORT_EMAIL_PORT=993
REPORT_EMAIL_USER=your-reports-email@gmail.com
REPORT_EMAIL_PASSWORD=your-gmail-app-password

# ============================================
# Email Service (Resend) - Required for Contact Forms
# ============================================
# Get your API key from: https://resend.com/api-keys
# Ensure domain brandenburgplumbing.com is verified in Resend
RESEND_API_KEY=re_your_api_key_here

# ============================================
# Cloudflare Turnstile (Spam Prevention)
# ============================================
# Get keys from: https://dash.cloudflare.com/?to=/:account/turnstile
# Free, privacy-friendly CAPTCHA alternative for form spam prevention
NEXT_PUBLIC_TURNSTILE_SITE_KEY=your-site-key-here
TURNSTILE_SECRET_KEY=your-secret-key-here

# ============================================
# Google Places API (Optional - for Live Reviews)
# ============================================
# Get API key from: https://console.cloud.google.com/
# IMPORTANT: Configure API key to allow server-side requests (no HTTP referrer restriction)
# OR use IP restrictions instead of HTTP referrer restrictions
GOOGLE_PLACES_API_KEY=your-google-api-key
GOOGLE_PLACE_ID=your-google-place-id

# ============================================
# Cron Job Security
# ============================================
# Secret token for protecting cron endpoints (e.g., /api/cron/process-email-reports)
# Generate a secure random string for this
CRON_SECRET=your-secure-random-string-here

# ============================================
# Redis/Upstash (Optional - for Caching)
# ============================================
# Only needed if using Upstash Redis for caching instead of Supabase
# Get these from: https://console.upstash.com/
UPSTASH_REDIS_REST_URL=https://your-redis-instance.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-redis-token-here

# ============================================
# Node Environment (Usually Set Automatically)
# ============================================
# Development, production, or test
# Usually set automatically by Next.js/Vercel, but can override if needed
# NODE_ENV=development
